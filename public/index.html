<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory Manager</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5-qrcode/2.3.8/html5-qrcode.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="header">
        <h1>üì¶ Inventory Manager</h1>
        <p>Scan barcodes to manage your inventory</p>
    </div>
    
    <div class="container">
        <!-- Stats Dashboard -->
        <div class="stats" id="stats">
            <div class="stat-card">
                <div class="stat-label">Total Products</div>
                <div class="stat-value" id="totalProducts">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Inventory Value</div>
                <div class="stat-value" id="totalValue">‚Çπ0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Low Stock</div>
                <div class="stat-value low-stock" id="lowStock">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Categories</div>
                <div class="stat-value" id="categories">0</div>
            </div>
        </div>
        
        <!-- Scan Button -->
        <button class="scan-btn" id="scanBtn" onclick="startScanning()">
            üì∑ Scan Barcode
        </button>

        <!-- Scanner Container -->
        <div class="scanner-container" id="scannerContainer">
            <div class="scanner-status" id="scannerStatus">üîç Scanning... Point camera at barcode</div>
            <div id="reader"></div>
            <button class="close-scanner" onclick="stopScanning()">Stop Scanning</button>
        </div>

        <!-- Alternative: Upload Photo Option -->
        <div class="alternative-option">
            <h3>üì∏ Camera Not Working?</h3>
            <p>Take a photo of the barcode with your regular camera app, then upload it here:</p>
            <button class="upload-btn" onclick="document.getElementById('uploadInput').click()">
                Upload Barcode Photo
            </button>
            <input type="file" id="uploadInput" class="file-input" accept="image/*">
        </div>
        
        <!-- Products List -->
        <div class="products-list">
            <div class="products-header">
                <div class="products-title">Recent Products</div>
                <button class="filter-btn" onclick="toggleLowStock()" id="filterBtn">
                    Show Low Stock
                </button>
            </div>
            <div id="productsList"></div>
        </div>
    </div>
    
    <!-- Add Product Modal -->
    <div class="modal" id="addProductModal">
        <div class="modal-content">
            <div class="modal-title">Add New Product</div>
            <div class="barcode-display" id="newBarcode"></div>
            
            <form id="addProductForm" onsubmit="handleAddProduct(event)">
                <div class="form-group">
                    <label class="form-label">Product Name *</label>
                    <input type="text" class="form-input" id="productName" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Category *</label>
                    <input type="text" class="form-input" id="productCategory" 
                           list="categoryList" required>
                    <datalist id="categoryList"></datalist>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Cost (‚Çπ) *</label>
                    <input type="number" class="form-input" id="productCost" 
                           min="0" step="0.01" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Initial Stock</label>
                    <input type="number" class="form-input" id="productStock" 
                           min="0" value="0">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Minimum Stock Alert</label>
                    <input type="number" class="form-input" id="productMinStock" 
                           min="0" value="10">
                </div>
                
                <button type="submit" class="btn btn-primary">Add Product</button>
                <div class="btn-group">
                    <button type="button" class="btn btn-secondary" 
                            onclick="closeAddModal()">Cancel</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- View/Edit Product Modal -->
    <div class="modal" id="viewProductModal">
        <div class="modal-content">
            <div class="modal-title">Product Details</div>
            
            <div class="product-info" id="productInfo"></div>
            
            <div class="stock-control">
                <button class="stock-btn minus" onclick="updateStock('decrease')">‚àí</button>
                <div class="stock-display">
                    <div class="stock-label">Current Stock</div>
                    <div class="stock-value" id="currentStock">0</div>
                </div>
                <button class="stock-btn plus" onclick="updateStock('increase')">+</button>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="openEditModal()">Edit Details</button>
                <button class="btn btn-secondary" style="background: #ef4444; color: white;" onclick="deleteProduct()">Delete</button>
                <button class="btn btn-primary" onclick="closeViewModal()">Done</button>
            </div>
        </div>
    </div>


<!-- Edit Product Modal -->
<div class="modal" id="editProductModal">
    <div class="modal-content">
        <div class="modal-title">Edit Product</div>
        <div class="barcode-display" id="editBarcode"></div>
        
        <form id="editProductForm" onsubmit="handleEditProduct(event)">
            <div class="form-group">
                <label class="form-label">Product Name *</label>
                <input type="text" class="form-input" id="editProductName" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">Category *</label>
                <input type="text" class="form-input" id="editProductCategory" 
                       list="categoryList" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">Cost (‚Çπ) *</label>
                <input type="number" class="form-input" id="editProductCost" 
                       min="0" step="0.01" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">Current Stock</label>
                <input type="number" class="form-input" id="editProductStock" 
                       min="0">
            </div>
            
            <div class="form-group">
                <label class="form-label">Minimum Stock Alert</label>
                <input type="number" class="form-input" id="editProductMinStock" 
                       min="0" value="10">
            </div>
            
            <button type="submit" class="btn btn-primary">Save Changes</button>
            <div class="btn-group">
                <button type="button" class="btn btn-secondary" 
                        onclick="closeEditModal()">Cancel</button>
            </div>
        </form>
    </div>
</div>





    
   <script src="script.js"></script>
</body>
</html>